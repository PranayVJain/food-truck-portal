<div mat-dialog-title>
    <div class="title-bar">
        <div>
            <h3 class="dialog-title">{{!data ? "Add": "Edit"}} Food Truck</h3>
            <span class="flex-spacer"></span>
        </div>
        <button class="title-close-btn" mat-dialog-close mat-icon-button>
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>
<form [formGroup]="form">
    <div mat-dialog-content class="row-grid">
        <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input cdkFocusInitial id="name" matInput type="text" name='name' formControlName="name" required
                [maxlength]="50">
            <mat-error *ngIf="hasError('name','required')">Food truck name is required</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <input cdkFocusInitial id="description" matInput type="text" name='description'
                formControlName="description" required [maxlength]="50">
        </mat-form-field>

        <mat-form-field appearance="fill" class="example-form-field">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="datepicker" name="availableDate" formControlName="availableDate">
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="datepicker"></mat-datepicker-toggle>
            <mat-datepicker #datepicker>
                <mat-datepicker-actions>
                    <button mat-button matDatepickerCancel>Cancel</button>
                    <button mat-raised-button color="primary" matDatepickerApply>Apply</button>
                </mat-datepicker-actions>
            </mat-datepicker>
        </mat-form-field>

    </div>
    <div class='progressbar'>
        <mat-progress-bar *ngIf="progress" color="primary" mode="indeterminate"></mat-progress-bar>
    </div>
    <div mat-dialog-actions>
        <span class="flex-spacer"></span>
        <button id="cancel" color="primary" mat-dialog-close mat-button (click)="cancel()">Cancel</button>
        <button id="save" color="primary" (click)="save()"  [disabled]="!form.valid" mat-flat-button>Add</button>
    </div>
</form>